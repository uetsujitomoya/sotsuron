\section{KH Coder}



　KH Coderとは、テキスト文章型のデータを統計分析するためのフリーのソフトウェアである。アンケートの自由記述・インタビュー記録・新聞記事など、さまざまな社会調査データを分析するため、立命館大学の樋口耕一氏が制作したものである。計量テキスト分析またはテキストマイニングの方法に対応している。(KH CoderのWebページ参照)


　以下に、KH Coderの主な可視化システムについて紹介する。


\subsection{単語共起ネットワーク図}

　カウンセリングを文字起こししたテキストデータを形態素解析し、各単語の共起関係のネットワーク図を描画した。今回、テキストデータの形態素解析、および共起関係のネットワークの可視化には、テキストマイニングのフリーソフトウェアである、樋口耕一氏の KH Coder を使用した。解析には、統計計算とグラフィックスのための環境「R」を内部で利用している。
テキストデータの形態素解析、および共起関係のネットワークの可視化には、テキストマイニングのフリーソフトウェアである、樋口耕一氏のKH Coderを使用した。解析には、統計計算とグラフィックスのための環境「R」を内部で利用している。
　KH Coderで形態素解析後のデータの共起ネットワーク可視化を行うにあたり、どこからどこまでの範囲内で共起すれば共起判定を行うかという集計単位をKH Coder上で設定可能である。KH Coderは改行によって段落を認識し、句点によって文を認識する。よってひと段落ないし一文を集計単位として設定することが可能になっている。1)

　KH Coderで形態素解析後のデータの共起ネットワーク可視化を行うにあたり、どこからどこまでの範囲内で共起すれば共起判定を行うかという集計単位をKH Coder上で設定可能である。KH Coderは改行によって段落を認識し、句点によって文を認識する。よってひと段落ないし一文を集計単位として設定することが可能になっている。1)


今回、カウンセリングを文字起こししたテキストデータを形態素解析し、各単語の共起関係のネットワーク図を描画した。

　ヨーガ心療のカウンセリングを文字起こししたテキストデータには、「心療内科における摂食障害専門ヨーガ療法グループ」の「第11回　ヨーガ療法事例検討会」2)3)を用いた。
患者Bに対して2014年9月11日に行われたセッションのヨーガ前のカウンセリングテキストデータを、共起関係の集計単位を段落としてKH Coderで描画した共起ネットワーク図をFig.1に示す。

共起マップ描画とクラスタリングが同時に進行できない
共起集計単位が「1文」か「1段落」しか選べない
因果関係解析によく用いられる係り受け解析ができない



\subsection{自己組織化マップ}

自己組織化マップ機能によるカウンセリングテキストデータの単語クラスタリングに基づき、その単語グループ分布を集計した。また、自己組織化マップに描画された単語から手動でマイナスイメージないしプラスイメージの単語を選んでそれぞれグループをつくり、その単語グループ分布を集計した。

自己組織化マップ単体の問題点としては、クラスターごとの描画色を自分で選べないこと、作成に1分半〜3分時間がかかることが挙げられる。


そこで本システムでは、の可視化手法について３次元的な手法と２次元な手法を用意し、切り替えることができるようにすることで、使用者が分析したい問題に合わせた可視化を実現する。これにより、対話性を向上させることができる。

そこで提案システムとして、カウンセラーからの質問形態と、 「家族」「仕事」「友人」の単語グループの時間経過に沿った分布変化を可視化した。可視化にあたっては、カウンセリング文字起こしテキストデータを形態素解析し、共起マップなどを描画して「家族」「仕事」「友人」に関連する単語を探すようプログラミングした。

\section{積み重ね折れ線グラフを用いた可視化}

%%% 過去に渦と熱輸送について研究した文献として次のものがある．

積み重ね折れ線グラフを用いた可視化
%%% しかし，これらの文献では渦と熱輸送との関係を可視化した後，対話的かつ連続的に次の分析を行うことのできるビジュアル分析システムの開発は行われていない．

%%% そこで本研究では先に述べた「物理量の関係が見られる」，「アニメーション表示可能」「自由な視点移動が可能」をシステム要件として設定し，システム開発を行った．

カウンセラーの質問の種類分けをいかに描画するかが重要となる。


次章ではどのようにシステムを構成したかを述べる．
